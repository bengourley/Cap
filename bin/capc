#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program = require('commander'),
		createCompiler = require('../lib/compiler'),
		createCli = require('../lib/cli');

program
	.version('0.0.1')
	.option(
		'-t, --printtree',
		'print the syntax tree instead of compiling (forces --print)'
	)
	.option(
		'-p, --print',
		'print the output instead of writing to file'
	)
	.option(
		'-c, --compress',
		'compress the output'
	)
	.option(
		'-b, --browser',
		'make the compiled js browser compatible'
	);

// Custom help
program.on('--help', function(){
  console.log('  Example:');
  console.log('');
  console.log('    $ capc example.cap');
  console.log('');
  console.log('    Compiles example.cap \u2192 example.cap.js');
  console.log('');
});

program.parse(process.argv);

// Run the cli with args
createCli(program).run();